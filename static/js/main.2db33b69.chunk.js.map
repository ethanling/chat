{"version":3,"sources":["components/UsernameForm.js","components/MessageList.js","components/SendMessageForm.js","components/TypingIndicator.js","components/WhosOnlineList.js","components/Chatscreen.js","App.js","serviceWorker.js","index.js"],"names":["UsernameForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","username","onChange","bind","assertThisInitialized","onSubmit","e","setState","target","value","preventDefault","react_default","a","createElement","className","name","type","placeholder","React","Component","MessageList","messagesEnd","createRef","formatDate","scrollToBottom","removedDeletedUser","current","scrollIntoView","behavior","timestamp","pm","time","Date","minutes","getMinutes","hours","getHours","concat","messages","filter","item","senderId","indexOf","_this2","map","message","index","key","createdAt","text","ref","SendMessageForm","TypingIndicator","usersWhoAreTyping","length","join","WhosOnlineList","users","user","presence","Chatscreen","currentUser","currentRoom","sendMessage","sendTypingEvent","roomId","id","isTypingIn","catch","error","console","Chatkit","ChatManager","instanceLocator","userId","currentUsername","tokenProvider","TokenProvider","url","connect","then","subscribeToRoom","messageLimit","hooks","onNewMessage","toConsumableArray","onUserStartedTyping","onUserStoppedTyping","onUserCameOnline","forceUpdate","onUserWentOffline","onUserJoined","style","display","height","backgroundColor","components_WhosOnlineList","flex","width","components_MessageList","components_TypingIndicator","components_SendMessageForm","App","currentScreen","onUsernameSubmitted","fetch","method","headers","Content-Type","body","JSON","stringify","res","log","components_UsernameForm","components_Chatscreen","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2db33b69.chunk.js","sourcesContent":["import React from 'react';\n\nclass UsernameForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: \"\"\n\t\t}\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t}\n\n\tonChange(e) {\n\t\tthis.setState({\n\t\t\tusername: e.target.value\n\t\t})\n\t}\n\n\tonSubmit(e) {\n\t\te.preventDefault();\n\t\tthis.props.onSubmit(this.state.username);\n\t}\n\n\n\trender() {\n\t\treturn <div className=\"signin-container\">\n\t\t\t<div className=\"signin-form\">\n\t\t\t\t<h1>Login</h1>\n\t\t\t\t<form onSubmit={this.onSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input-box\"\n\t\t\t\t\t\tname=\"username\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tplaceholder=\"Username\" \n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input-box\"\n\t\t\t\t\t\tname=\"password\" \n\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\tplaceholder=\"Password\" \n\t\t\t\t\t/>\n\t\t\t\t\t<input className=\"submit-button\" type=\"submit\" />\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t}\n}\n\nexport default UsernameForm;","import React from 'react';\n\nclass MessageList extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.messagesEnd = React.createRef();\n\t\tthis.formatDate = this.formatDate.bind(this);\n\t\tthis.scrollToBottom = this.scrollToBottom.bind(this);\n\t\tthis.removedDeletedUser = this.removedDeletedUser.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.scrollToBottom();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.scrollToBottom();\n\t}\n\n\tscrollToBottom() {\n\t\tthis.messagesEnd.current.scrollIntoView({ behavior: 'smooth'});\n\t}\n\n\tformatDate(timestamp) {\n\t\tlet time = new Date(timestamp);\n\t\tlet minutes = time.getMinutes();\n\t\tlet hours = time.getHours();\n\t\tlet pm;\n\t\tif (hours > 12) {\n\t\t\thours -= 12\n\t\t\tpm = true;\n\t\t};\n\t\tlet formatted = `${hours}:${minutes}${pm ? \"pm\" : \"am\"}`;\n\n\t\treturn formatted;\n\t}\n\n\tremovedDeletedUser(messages) {\n\t\tlet filteredArr = messages.filter((item) => {\n\t\t\treturn item.senderId.indexOf('deleted') < 0;\n\t\t})\n\t\treturn filteredArr;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ul>\n\t\t\t\t\t{this.removedDeletedUser(this.props.messages)\n\t\t\t\t\t\t.map((message, index) => (\n\t\t\t\t\t\t<li key={index} className=\"message-container\">\n\t\t\t\t\t\t\t<div className=\"message\">\n\t\t\t\t\t\t\t\t<span className=\"message-user\">\n\t\t\t\t\t\t\t\t\t{message.senderId}\n\t\t\t\t\t\t\t\t\t<span className=\"message-time\">\n\t\t\t\t\t\t\t\t\t\t{this.formatDate(message.createdAt)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<p>{message.text}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<div ref={this.messagesEnd}></div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default MessageList;","import React from 'react';\n\nclass SendMessageForm extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: '',\n\t\t}\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t}\n\n\tonChange(e) {\n\t\tthis.setState({\n\t\t\ttext: e.target.value\n\t\t})\n\t\tif (this.props.onChange) {\n\t\t\tthis.props.onChange();\n\t\t}\n\t}\n\n\tonSubmit(e) {\n\t\te.preventDefault();\n\t\tthis.props.onSubmit(this.state.text);\n\t\tthis.setState({ text: ''})\n\t}\n\n\n\trender() {\n\t\treturn <div className=\"message-form\">\n\t\t\t<form onSubmit={this.onSubmit}>\n\t\t\t\t<input \n\t\t\t\t\tclassName=\"message-input\"\n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tplaceholder=\"What is your message?\" \n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\tvalue={this.state.text}\n\t\t\t\t/>\n\t\t\t\t<input type=\"submit\" className=\"message-send\"/>\n\t\t\t</form>\n\t\t</div>\n\t}\n}\n\nexport default SendMessageForm;","import React, { Component } from 'react';\n\nclass TypingIndicator extends Component {\n\trender() {\n\t\t\tif (this.props.usersWhoAreTyping.length === 0) {\n\t\t\t\treturn <p></p>\n\t\t\t} else if (this.props.usersWhoAreTyping.length === 1) {\n\t\t\t\treturn <p>{this.props.usersWhoAreTyping[0]} is typing ...</p>\n\t\t\t} else if (this.props.usersWhoAreTyping.length > 1) {\n\t\t\t\treturn <p>{this.props.usersWhoAreTyping.join(' and ')} are typing ...</p>\n\t\t\t}\n\t}\n}\n\nexport default TypingIndicator;","import React, { Component } from 'react';\n\nclass WhosOnlineList extends Component {\n\n\trender() {\n\t\tif (this.props.users) {\n\t\t\treturn (\n\t\t\t\t<ul className='user-list'>\n\t\t\t\t\t{this.props.users.map((user, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"user-list-item\" key={user.name}>\n\t\t\t\t\t\t\t\t<div className={user.presence.state === 'online' ? 'user-status user-online': 'user-status user-offline'}></div>\n\t\t\t\t\t\t\t\t<span className='user-list-name'>{user.name}</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className=\"loader-container\">\n\t\t\t\t\t<div className='loader'></div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n}\n\nexport default WhosOnlineList;","import React from 'react';\nimport Chatkit from '@pusher/chatkit';\nimport MessageList from './MessageList';\nimport SendMessageForm from './SendMessageForm';\nimport TypingIndicator from './TypingIndicator';\nimport WhosOnlineList from './WhosOnlineList';\n\nclass Chatscreen extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            currentUser: {},\n            currentRoom: {},\n            usersWhoAreTyping: [],\n            messages: []\n        }\n        this.sendMessage = this.sendMessage.bind(this);\n        this.sendTypingEvent = this.sendTypingEvent.bind(this);\n    }\n\n    sendMessage(text) {\n        this.state.currentUser.sendMessage({\n            text,\n            roomId: this.state.currentRoom.id,\n        })\n    }\n\n    sendTypingEvent() {\n        this.state.currentUser\n            .isTypingIn({ roomId: this.state.currentRoom.id })\n            .catch(error => console.error(error))\n    }\n\n    componentDidMount() {\n\n        const chatManager = new Chatkit.ChatManager({\n            instanceLocator: \"v1:us1:311aa8b8-2ce9-435a-b289-991ed13030e6\",\n            userId: this.props.currentUsername,\n            tokenProvider: new Chatkit.TokenProvider({\n                url: 'https://basic-chat.herokuapp.com/authenticate'\n            })\n        })\n\n        chatManager\n            .connect()\n            .then(currentUser => {\n                this.setState({ currentUser });\n                return currentUser.subscribeToRoom({\n                    roomId: 19375106,\n                    messageLimit: 100,\n                    hooks: {\n                        onNewMessage: message => {\n                            this.setState({\n                                messages: [...this.state.messages, message]\n                            })\n                        },\n                        onUserStartedTyping: user => { \n                            this.setState({\n                                usersWhoAreTyping: [...this.state.usersWhoAreTyping, user.name]\n                            })\n                        },\n                        onUserStoppedTyping: user => {\n                            this.setState({\n                                usersWhoAreTyping: this.state.usersWhoAreTyping.filter(username => username !== user.name)\n                            })\n                        },\n                        onUserCameOnline: () => this.forceUpdate(),\n                        onUserWentOffline: () => this.forceUpdate(),\n                        onUserJoined: () => this.forceUpdate(),\n                    }\n                })\n            })\n            .then(currentRoom => {\n                this.setState({ currentRoom })\n            })\n            .catch(error => console.error(error))\n    }\n\n    render() {\n        return (\n            <div style={{\n                display: 'flex',\n                height: '100vh',\n                backgroundColor: '#F8F8F9'\n            }}>\n                <div className=\"sidebar\">\n                    <WhosOnlineList users={this.state.currentRoom.users} />\n                </div>\n                \n                <div className=\"message-view\">\n                    <div style={{\n                        flex: 1,\n                        width: \"100%\"\n                    }}>\n                        <MessageList messages={this.state.messages}/>\n                    </div>\n                    \n                    <TypingIndicator usersWhoAreTyping={this.state.usersWhoAreTyping} />\n                    <SendMessageForm \n                        onSubmit={this.sendMessage} \n                        onChange={this.sendTypingEvent}\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Chatscreen;","import React, { Component } from 'react';\nimport UsernameForm from './components/UsernameForm';\nimport Chatscreen from './components/Chatscreen';\n\nclass App extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcurrentScreen: \"WhatIsYourUsernameScreen\",\n\t\t\tcurrentUsername: \"\"\n\t\t}\n\n\t\tthis.onUsernameSubmitted = this.onUsernameSubmitted.bind(this);\n\t}\n\n\tonUsernameSubmitted(username) {\n\t\tfetch('https://basic-chat.herokuapp.com/users', {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Content-Type': \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify({ username }),\n\t\t})\n\t\t.then(res => {\n\t\t\tthis.setState({\n\t\t\t\tcurrentUsername: username,\n\t\t\t\tcurrentScreen: 'Chatscreen'\n\t\t\t})\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t})\n\t}\n\n    render() {\n    \tif (this.state.currentScreen === 'WhatIsYourUsernameScreen') {\n        \treturn <UsernameForm onSubmit={this.onUsernameSubmitted} />\n    \t} else {\n    \t\treturn <Chatscreen currentUsername={this.state.currentUsername} />\n    \t}\n    }\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}